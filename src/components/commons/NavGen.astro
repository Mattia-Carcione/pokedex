---
import type { PokeApi } from '../../utils/interfaces/types'
import NavLink from './NavLink.astro';
import { MapGenerationToCard } from '../../utils/helpers/mapper.ts';

interface Props {
    generations: PokeApi[];
    isHome?: boolean;
}
const { generations, isHome = false } = Astro.props;
const params = Astro.params;
const genMapped = await MapGenerationToCard(generations);
---

<nav id="main-nav" class="table mx-auto rounded-[1rem] bg-[#FFF] mt-4 [box-shadow:0_0_15px_0_rgba(0,0,0,0.2)]" aria-label="Navigazione generazioni PokÃ©mon">
    <ul class="flex flex-wrap">
        {genMapped.map((g, x: number) => (
            <NavLink gen={g} isActive={g.id.toString() === params.id || (isHome && x === 0)} index={x} length={genMapped.length - 1} />
        ))}
    </ul>
</nav>